(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(t,e,a){t.exports=a(22)},16:function(t,e,a){},18:function(t,e,a){},21:function(t,e,a){t.exports=a.p+"static/media/drop.fb0a9409.svg"},22:function(t,e,a){"use strict";a.r(e);var n=a(0),c=a.n(n),i=a(9),r=a.n(i),o=(a(16),a(1)),s=a(2),l=a(4),d=a(3),u=a(5),m=(a(18),function(t){function e(){return Object(o.a)(this,e),Object(l.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(s.a)(e,[{key:"extractDate",value:function(t){return t.split(" ")[0].split("-")}},{key:"render",value:function(){var t=this,e=this.props.forecast;return c.a.createElement("ul",{className:"forecast"},e.map(function(e,a){var n=t.extractDate(e.dt_txt);return c.a.createElement("li",{key:a,className:"forecast_day"},c.a.createElement("div",{id:"date"},n[2]+"/"+n[1]),c.a.createElement("div",{id:"temp"},c.a.createElement("span",null,Math.round(e.main.temp)," ")),c.a.createElement("div",{id:"weather-description"},e.weather[0].description," "),c.a.createElement("div",{id:"lower-temp"},"\u2198 ",Math.round(e.main.temp_min)," ",t.props.unit),c.a.createElement("div",{id:"humidity"},"H: ",e.main.humidity," %"))}))}}]),e}(n.Component)),h=function(t){function e(){var t,a;Object(o.a)(this,e);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(c))))._openModal=function(){a.props._openModal()},a}return Object(u.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){var t=this.props.currentWeather,e=this.props.city,n=this.props.unit,i=t.main?Math.round(t.main.temp):"0",r=t.main?t.main.temp_min:"0",o=t.main?t.main.humidity:"0";return c.a.createElement("div",{className:"current-weather"},c.a.createElement("div",{id:"city"},e,c.a.createElement("span",{onClick:this._openModal},c.a.createElement("img",{src:a(8),alt:"search icon"}))),c.a.createElement("div",{className:"current-weather-wrapper"},c.a.createElement("div",{id:"temp-min"},"\u2198 ",r,n),c.a.createElement("div",{id:"humidity"},c.a.createElement("span",null,c.a.createElement("img",{src:a(21),alt:"humidity icon"}))," ",o,"%H"),c.a.createElement("div",{id:"temp"},i,n)))}}]),e}(n.Component),p=a(6),f=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(l.a)(this,Object(d.a)(e).call(this,t)))._onchange=function(t){a.setState({city:t.target.value})},a.search=function(t){a.searchAnimation()},a.state={city:""},a}return Object(u.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){Object(p.a)({targets:["#modal","#modal input","#modal span"],easing:"easeInOutSine",duration:300,opacity:[.5,1],delay:p.a.stagger(100)})}},{key:"searchAnimation",value:function(){var t=this;p.a.timeline({easing:"easeInOutSine"}).add({targets:"#modal input",duration:150,width:0}).add({targets:"#modal img",opacity:0,duration:150}).add({targets:"#modal svg .cls-1",opacity:[0,1],fill:["rgba(0,0,0,0)","#fbed63"],translateY:["+30",0],delay:150,duration:500}).add({targets:"#modal svg .cls-3",opacity:[0,1],fill:["rgba(0,0,0,0)","#fff"],translateX:["-30",0],duration:500}).add({targets:"#modal svg .cls-1",opacity:0,duration:500}).add({targets:"#modal svg .cls-3",translateX:30,duration:500}).add({targets:"#modal svg .cls-2",translateY:["-40",0],opacity:1,duration:500}).add({targets:"#modal",duration:350,background:"rgba(100,100,100,0)",complete:function(){t.props.onCityChosen(t.state.city)}})}},{key:"render",value:function(){return c.a.createElement("div",{id:"modal"},c.a.createElement("input",{type:"text",placeholder:"Show the weather of..",name:"search-bar",onChange:this._onchange,ref:this.cityInput}),c.a.createElement("span",{onClick:this.search},c.a.createElement("img",{src:a(8),alt:"search icon"})),c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 250 211.76"},c.a.createElement("title",null,"Weather"),c.a.createElement("g",{id:"Layer_2","data-name":"Layer 2"},c.a.createElement("g",{id:"Sunny"},c.a.createElement("circle",{className:"cls-1",cx:"138.5",cy:"77.5",r:"77.5"}),c.a.createElement("g",{id:"Rain"},c.a.createElement("line",{className:"cls-2",x1:"53.01",y1:"180.99",x2:"85",y2:"149"}),c.a.createElement("line",{className:"cls-2",x1:"119.01",y1:"175.99",x2:"156.49",y2:"138.51"}),c.a.createElement("line",{className:"cls-2",x1:"164.01",y1:"185.99",x2:"201.49",y2:"148.51"}),c.a.createElement("line",{className:"cls-2",x1:"114.01",y1:"209.99",x2:"136.5",y2:"187.5"}),c.a.createElement("line",{className:"cls-2",x1:"73.01",y1:"202.99",x2:"95.5",y2:"180.5"})),c.a.createElement("path",{className:"cls-3",d:"M195,125.91a36.09,36.09,0,0,0-36.09-36.09,35.69,35.69,0,0,0-7.21.73,21.48,21.48,0,0,0-36.19-12.42,22.78,22.78,0,0,0-39.72-7.44A38,38,0,0,0,21.53,105a38.58,38.58,0,0,0,.78,7.72A24.68,24.68,0,0,0,24.06,162v0H163.34v-.28A36.09,36.09,0,0,0,195,125.91Z"})))))}}]),e}(n.Component),y=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(l.a)(this,Object(d.a)(e).call(this,t)))._onOpenModal=function(){a.setState({modal:!0})},a._onCityChosen=function(t){a.setState({modal:!1,city:t}),a.getWeatherData(t,a.state.unit[0])},a.toggleUnits=function(t){var e=a.state.unit.reverse();a.setState({unit:e}),a.getWeatherData(a.state.city,a.state.unit[0])},a.state={city:null,forecast:[],currentWeather:{},photo:{src:"",owner:""},unit:["\xb0C","\xb0F"],modal:!0},a}return Object(u.a)(e,t),Object(s.a)(e,[{key:"initCity",value:function(t){this.setState({city:t}),this.getWeatherData(t,this.state.unit[0])}},{key:"getPhoto",value:function(t,e){var a=this;fetch("https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=".concat("50e518182dcc254480dc861ca855599e","&format=json&nojsoncallback=1&lat=").concat(e,"&lon=").concat(t,"&extras=owner_name&per_page=200&sort=interestingness-desc")).then(function(t){return t.json()}).then(function(t){if("ok"===t.stat){var e=t.photos.photo[Math.floor(Math.random()*t.photos.photo.length)],n=e.id;fetch("https://api.flickr.com/services/rest/?method=flickr.photos.getSizes&api_key=".concat("50e518182dcc254480dc861ca855599e","&photo_id=").concat(n,"&format=json&nojsoncallback=1")).then(function(t){return t.json()}).then(function(t){if("ok"===t.stat){var n={src:t.sizes.size[t.sizes.size.length-2].source,owner:e.ownername};a.setState({photo:n})}}).catch(function(t){console.log(t)})}})}},{key:"getWeatherData",value:function(t,e){var a=this,n="\xb0C"===e?"metric":"imperial";fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&appId=").concat("eb5b691ef0672d70980bd6b0b0d6b502","&units=").concat(n)).then(function(t){return t.json()}).then(function(t){a.setState({currentWeather:t}),a.getPhoto(t.coord.lon,t.coord.lat)}).catch(function(t){a.setState({city:"city not found"})}),fetch("https://api.openweathermap.org/data/2.5/forecast?q=".concat(t,"&appId=").concat("eb5b691ef0672d70980bd6b0b0d6b502","&units=").concat(n)).then(function(t){return t.json()}).then(function(t){for(var e=[],n=0;n<t.list.length;n+=8)e.push(t.list[n]);a.setState({forecast:e})}).catch(function(t){a.setState({city:"city not found"})})}},{key:"renderModal",value:function(){if(this.state.modal)return c.a.createElement(f,{onCityChosen:this._onCityChosen})}},{key:"render",value:function(){var t=this.state.photo.src,e=this.state.photo.owner,a=this.state.forecast,n=this.state.unit,i=this.state.currentWeather,r=this.state.city;return c.a.createElement("div",{id:"wrapper","data-owner":e,style:{backgroundImage:"url(".concat(t,")")}},c.a.createElement("div",{id:"information"},c.a.createElement(m,{forecast:a}),c.a.createElement(h,{unit:n[0],currentWeather:i,city:r,_openModal:this._onOpenModal})),c.a.createElement("p",{className:"unit",onClick:this.toggleUnits},n[0]),this.renderModal())}}]),e}(n.Component),g=function(t){function e(){return Object(o.a)(this,e),Object(l.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement(y,null))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},8:function(t,e,a){t.exports=a.p+"static/media/find.40f00d6e.svg"}},[[10,2,1]]]);
//# sourceMappingURL=main.1a1f6a04.chunk.js.map